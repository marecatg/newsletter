<section class="container-fluid view-animation"
         data-ng-if="vm.showView" id="accueil-view">

    <h1 class="text-center">Gestion des newsletters</h1>
    <div class="col-md-7 col-lg-6 col-lg-offset-1 espace-top">
        <div class="panel panel-primary">
            <div class="panel-heading">
                Gestion des newsletters
            </div>
            <div class="panel-body">
                <div class="col-md-5 form-group">
                    <select class="form-control" title="Newsletters"
                            data-ng-model="vm.currentCampagne"
                            data-ng-change="vm.rechercheNewsletters(vm.currentCampagne)"
                            data-ng-options="liste as liste.nom for liste in vm.campagnes | orderBy:'nom' track by liste.id">
                    </select>
                </div>
                <div class="col-md-7">
                    <div class="col-xs-10">
                        <div class="col-xs-12 no-padding liste-destinataires">
                            <button data-ng-repeat="newsletter in vm.newsletters | orderBy: 'contenus[0].nom'"
                            ng-click="vm.showContenu(newsletter.contenus[0].id)">
                                {{ ::newsletter.contenus[0].nom }}
                            </button>
                        </div>
                    </div>
                    <div class="col-xs-2 nopadding">
                        <button class="btn btn-success text-center" ng-click="vm.openGestionNewsletterModal()"
                                data-ng-disabled="vm.currentNewsletter.id === -1">
                            <span>
                                <i class="glyphicon glyphicon-plus"></i><br>
                                <i class="glyphicon glyphicon-minus"></i>
                            </span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="espace-top col-md-5 col-lg-4" ng-if="vm.currentNewsletterContenu">
        <!--Formulaire d'ajout de destinataire-->
        <div class="panel panel-primary">
            <div class="panel-heading">
                ::vm.currentNewsletterContenu.nom
            </div>
            <div class="panel-body">

                <button class="col-xs-12 btn btn-success">Voir la liste des inscrits</button>
            </div>
        </div>
    </div>
</section>

